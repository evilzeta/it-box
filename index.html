<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT工具集 - 开发者的工具箱</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- 引入CryptoJS库 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3a0ca3;
            --accent-color: #4cc9f0;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --success-color: #4ade80;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --gray-color: #6b7280;
            --border-radius: 8px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        body {
            background-color: #f5f7fb;
            color: var(--dark-color);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* 头部样式 */
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem 0;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .logo i {
            color: var(--accent-color);
        }

        .nav-links {
            display: flex;
            gap: 1.5rem;
        }

        .nav-links a {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            padding: 5px 10px;
            border-radius: 4px;
        }

        .nav-links a:hover, .nav-links a.active {
            color: white;
            background-color: rgba(255, 255, 255, 0.15);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* 主要内容区域 */
        main {
            display: flex;
            min-height: calc(100vh - 140px);
            padding: 2rem 0;
        }

        /* 侧边栏 */
        .sidebar {
            width: 280px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 1.5rem;
            margin-right: 2rem;
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .sidebar h3 {
            margin-bottom: 1.2rem;
            color: var(--primary-color);
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }

        .tool-categories {
            list-style: none;
        }

        .tool-category {
            margin-bottom: 1rem;
        }

        .tool-category h4 {
            font-size: 0.9rem;
            text-transform: uppercase;
            color: var(--gray-color);
            letter-spacing: 1px;
            margin-bottom: 0.8rem;
        }

        .tool-list {
            list-style: none;
        }

        .tool-item {
            margin-bottom: 0.5rem;
        }

        .tool-item a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            text-decoration: none;
            color: var(--dark-color);
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        .tool-item a:hover, .tool-item a.active {
            background-color: #f0f7ff;
            color: var(--primary-color);
        }

        .tool-item i {
            width: 20px;
            text-align: center;
            color: var(--gray-color);
        }

        .tool-item a:hover i, .tool-item a.active i {
            color: var(--primary-color);
        }

        /* 工具内容区域 */
        .tool-content {
            flex: 1;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 2rem;
            overflow: hidden;
        }

        .tool-header {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .tool-header h2 {
            color: var(--primary-color);
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tool-header p {
            color: var(--gray-color);
            margin-top: 5px;
        }

        /* 工具界面通用样式 */
        .tool-interface {
            margin-top: 1.5rem;
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--dark-color);
        }

        .input-group textarea, .input-group input, .input-group select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .input-group textarea {
            min-height: 150px;
            resize: vertical;
            font-family: 'Courier New', monospace;
        }

        .input-group textarea:focus, .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: #e5e7eb;
            color: var(--dark-color);
        }

        .btn-secondary:hover {
            background-color: #d1d5db;
        }

        .btn-success {
            background-color: var(--success-color);
        }

        .btn-success:hover {
            background-color: #22c55e;
        }

        .result-group {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 2px solid #f0f0f0;
        }

        .result-group h4 {
            margin-bottom: 1rem;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-box {
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: var(--border-radius);
            padding: 15px;
            min-height: 80px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-break: break-all;
            overflow-y: auto;
            max-height: 300px;
        }

        /* 页脚 */
        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 2rem 0;
            margin-top: auto;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .footer-info p {
            color: #9ca3af;
            margin-top: 5px;
        }

        .footer-links {
            display: flex;
            gap: 1.5rem;
        }

        .footer-links a {
            color: #9ca3af;
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: white;
        }

        /* 响应式设计 */
        @media (max-width: 992px) {
            .sidebar {
                width: 240px;
                margin-right: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }

            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background-color: var(--secondary-color);
                flex-direction: column;
                padding: 1rem;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }

            .nav-links.show {
                display: flex;
            }

            main {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                margin-right: 0;
                margin-bottom: 1.5rem;
                position: static;
            }

            .tool-content {
                padding: 1.5rem;
            }

            .footer-content {
                flex-direction: column;
                gap: 1.5rem;
                text-align: center;
            }
        }

        /* 工具特定样式 */
        .md5-info {
            background-color: #f0f9ff;
            border-left: 4px solid var(--primary-color);
            padding: 1rem;
            margin-bottom: 1.5rem;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        .subnet-calculator {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .subnet-result {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .subnet-item {
            background-color: #f9fafb;
            padding: 1rem;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-color);
        }

        .subnet-item h5 {
            font-size: 0.9rem;
            color: var(--gray-color);
            margin-bottom: 5px;
        }

        .subnet-item p {
            font-weight: 600;
            font-family: 'Courier New', monospace;
        }

        .code-formatter-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .char-conversion-types {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 1.5rem;
        }

        .conversion-type {
            padding: 8px 16px;
            background-color: #f3f4f6;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
        }

        .conversion-type:hover, .conversion-type.active {
            background-color: var(--primary-color);
            color: white;
        }

        .tool-description {
            background-color: #f9fafb;
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
            color: var(--gray-color);
        }

        .hidden {
            display: none !important;
        }
        
        /* 新增样式：哈希选项 */
        .hash-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 1.5rem;
        }
        
        .hash-option {
            padding: 8px 16px;
            background-color: #f3f4f6;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .hash-option:hover, .hash-option.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            padding: 12px 20px;
            background-color: var(--success-color);
            color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateX(120%);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        /* Base64 编码/解码特定样式 */
        .base64-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 1.5rem;
        }
        
        .base64-option {
            padding: 8px 16px;
            background-color: #f3f4f6;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .base64-option:hover, .base64-option.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        /* IP地址转换特定样式 */
        .ip-conversion-types {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 1.5rem;
        }
        
        .ip-conversion-type {
            padding: 8px 16px;
            background-color: #f3f4f6;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .ip-conversion-type:hover, .ip-conversion-type.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        /* 时间戳转换特定样式 */
        .timestamp-types {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 1.5rem;
        }
        
        .timestamp-type {
            padding: 8px 16px;
            background-color: #f3f4f6;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .timestamp-type:hover, .timestamp-type.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .timestamp-result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .timestamp-item {
            background-color: #f9fafb;
            padding: 1rem;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-color);
        }
        
        .timestamp-item h5 {
            font-size: 0.9rem;
            color: var(--gray-color);
            margin-bottom: 5px;
        }
        
        .timestamp-item p {
            font-weight: 600;
            font-family: 'Courier New', monospace;
        }
        
        /* JSON格式化特定样式 */
        .json-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .json-result {
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-break: break-all;
        }
        
        .json-valid {
            color: var(--success-color);
            font-weight: bold;
        }
        
        .json-invalid {
            color: var(--danger-color);
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- 头部 -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-toolbox"></i>
                <span>IT工具集</span>
            </div>
            
            <nav>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="nav-links" id="navLinks">
                    <a href="#" class="active">首页</a>
                    <a href="#tools">工具</a>
                    <a href="#about">关于</a>
                    <a href="#contact">联系</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- 主要内容区域 -->
    <main class="container">
        <!-- 侧边栏 - 工具菜单 -->
        <aside class="sidebar" id="sidebar">
            <h3><i class="fas fa-sliders-h"></i> 工具分类</h3>
            
            <ul class="tool-categories">
                <li class="tool-category">
                    <h4>加密/哈希</h4>
                    <ul class="tool-list">
                        <li class="tool-item">
                            <a href="#hash" class="active" data-tool="hash">
                                <i class="fas fa-lock"></i>
                                <span>哈希计算器</span>
                            </a>
                        </li>
                        <li class="tool-item">
                            <a href="#base64" data-tool="base64">
                                <i class="fas fa-code"></i>
                                <span>Base64 编码/解码</span>
                            </a>
                        </li>
                    </ul>
                </li>
                
                <li class="tool-category">
                    <h4>编码/转换</h4>
                    <ul class="tool-list">
                        <li class="tool-item">
                            <a href="#char-convert" data-tool="char-convert">
                                <i class="fas fa-exchange-alt"></i>
                                <span>字符编码转换</span>
                            </a>
                        </li>
                        <li class="tool-item">
                            <a href="#code-format" data-tool="code-format">
                                <i class="fas fa-indent"></i>
                                <span>代码格式化</span>
                            </a>
                        </li>
                        <li class="tool-item">
                            <a href="#json-format" data-tool="json-format">
                                <i class="fas fa-brackets-curly"></i>
                                <span>JSON 格式化</span>
                            </a>
                        </li>
                    </ul>
                </li>
                
                <li class="tool-category">
                    <h4>网络工具</h4>
                    <ul class="tool-list">
                        <li class="tool-item">
                            <a href="#subnet" data-tool="subnet">
                                <i class="fas fa-network-wired"></i>
                                <span>IP 子网划分</span>
                            </a>
                        </li>
                        <li class="tool-item">
                            <a href="#ip-convert" data-tool="ip-convert">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>IP 地址转换</span>
                            </a>
                        </li>
                    </ul>
                </li>
                
                <li class="tool-category">
                    <h4>其他工具</h4>
                    <ul class="tool-list">
                        <li class="tool-item">
                            <a href="#timestamp" data-tool="timestamp">
                                <i class="far fa-clock"></i>
                                <span>时间戳转换</span>
                            </a>
                        </li>
                        <li class="tool-item">
                            <a href="#text-tools" data-tool="text-tools">
                                <i class="fas fa-font"></i>
                                <span>文本处理工具</span>
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
            
            <div class="tool-description">
                <p><i class="fas fa-info-circle"></i> 这是一个模块化的IT工具集。</p>
            </div>
        </aside>

        <!-- 工具内容区域 -->
        <section class="tool-content">
            <!-- 哈希计算器（包含MD5和其他哈希算法） -->
            <div class="tool-interface" id="hash-tool">
                <div class="tool-header">
                    <h2><i class="fas fa-lock"></i> 哈希计算器</h2>
                    <p>使用多种哈希算法（MD5、SHA1、SHA256等）计算文本的哈希值</p>
                </div>
                
                <div class="md5-info">
                    <p><strong>哈希函数</strong>将任意长度的数据映射为固定长度的字符串，常用于数据完整性验证、密码存储等。MD5是一种常用的哈希算法，但已不推荐用于安全敏感场景。</p>
                </div>
                
                <div class="input-group">
                    <label for="hash-input">输入要计算哈希的文本：</label>
                    <textarea id="hash-input" placeholder="请输入要计算哈希的文本...">Hello, IT Tools!</textarea>
                </div>
                
                <div class="hash-options">
                    <div class="hash-option active" data-algorithm="MD5">MD5</div>
                    <div class="hash-option" data-algorithm="SHA1">SHA-1</div>
                    <div class="hash-option" data-algorithm="SHA256">SHA-256</div>
                    <div class="hash-option" data-algorithm="SHA512">SHA-512</div>
                    <div class="hash-option" data-algorithm="SHA3">SHA-3</div>
                </div>
                
                <div class="btn-group">
                    <button class="btn" id="hash-calculate-btn">
                        <i class="fas fa-calculator"></i> 计算哈希
                    </button>
                    <button class="btn btn-secondary" id="hash-copy-btn">
                        <i class="far fa-copy"></i> 复制结果
                    </button>
                    <button class="btn btn-secondary" id="hash-clear-btn">
                        <i class="fas fa-broom"></i> 清空
                    </button>
                </div>
                
                <div class="result-group">
                    <h4><i class="fas fa-key"></i> 哈希计算结果</h4>
                    <div class="result-box" id="hash-result"></div>
                </div>
                
                <div class="input-group" style="margin-top: 2rem;">
                    <label for="hash-compare-input">比较哈希值（可选）：</label>
                    <input type="text" id="hash-compare-input" placeholder="输入要比较的哈希值...">
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-secondary" id="hash-compare-btn">
                        <i class="fas fa-equals"></i> 比较哈希
                    </button>
                </div>
                
                <div class="result-group">
                    <h4><i class="fas fa-check-circle"></i> 比较结果</h4>
                    <div class="result-box" id="hash-compare-result"></div>
                </div>
            </div>
            
            <!-- Base64 编码/解码 -->
            <div class="tool-interface hidden" id="base64-tool">
                <div class="tool-header">
                    <h2><i class="fas fa-code"></i> Base64 编码/解码</h2>
                    <p>将文本与Base64编码互相转换，支持编码、解码和URL安全编码</p>
                </div>
                
                <div class="input-group">
                    <label for="base64-input">输入文本：</label>
                    <textarea id="base64-input" placeholder="请输入要编码或解码的文本...">Hello, Base64!</textarea>
                </div>
                
                <div class="base64-options">
                    <div class="base64-option active" data-action="encode">Base64 编码</div>
                    <div class="base64-option" data-action="decode">Base64 解码</div>
                    <div class="base64-option" data-action="url-encode">URL 安全编码</div>
                    <div class="base64-option" data-action="url-decode">URL 安全解码</div>
                </div>
                
                <div class="btn-group">
                    <button class="btn" id="base64-convert-btn">
                        <i class="fas fa-exchange-alt"></i> 执行转换
                    </button>
                    <button class="btn btn-secondary" id="base64-copy-btn">
                        <i class="far fa-copy"></i> 复制结果
                    </button>
                    <button class="btn btn-secondary" id="base64-clear-btn">
                        <i class="fas fa-broom"></i> 清空
                    </button>
                </div>
                
                <div class="result-group">
                    <h4><i class="fas fa-code"></i> 转换结果</h4>
                    <div class="result-box" id="base64-result"></div>
                </div>
                
                <div class="tool-description">
                    <p><strong>Base64</strong>是一种基于64个可打印字符来表示二进制数据的方法。常用于在HTTP环境下传递较长的标识信息，或在需要将二进制数据转换为文本格式的场景中使用。</p>
                </div>
            </div>
            
            <!-- 字符编码转换 -->
            <div class="tool-interface hidden" id="char-convert-tool">
                <div class="tool-header">
                    <h2><i class="fas fa-exchange-alt"></i> 字符编码转换</h2>
                    <p>在不同字符编码之间转换文本，支持UTF-8、GBK、Base64等</p>
                </div>
                
                <div class="input-group">
                    <label for="char-input">输入要转换的文本：</label>
                    <textarea id="char-input" placeholder="请输入要转换的文本...">IT工具网站 - 开发者的工具箱</textarea>
                </div>
                
                <div class="char-conversion-types">
                    <div class="conversion-type active" data-type="utf8-to-gbk">UTF-8 → GBK</div>
                    <div class="conversion-type" data-type="gbk-to-utf8">GBK → UTF-8</div>
                    <div class="conversion-type" data-type="utf8-to-base64">UTF-8 → Base64</div>
                    <div class="conversion-type" data-type="base64-to-utf8">Base64 → UTF-8</div>
                    <div class="conversion-type" data-type="url-encode">URL 编码</div>
                    <div class="conversion-type" data-type="url-decode">URL 解码</div>
                </div>
                
                <div class="btn-group">
                    <button class="btn" id="char-convert-btn">
                        <i class="fas fa-exchange-alt"></i> 执行转换
                    </button>
                    <button class="btn btn-secondary" id="char-copy-btn">
                        <i class="far fa-copy"></i> 复制结果
                    </button>
                    <button class="btn btn-secondary" id="char-clear-btn">
                        <i class="fas fa-broom"></i> 清空
                    </button>
                </div>
                
                <div class="result-group">
                    <h4><i class="fas fa-code"></i> 转换结果</h4>
                    <div class="result-box" id="char-result"></div>
                </div>
            </div>
            
            <!-- 代码格式化 -->
            <div class="tool-interface hidden" id="code-format-tool">
                <div class="tool-header">
                    <h2><i class="fas fa-indent"></i> 代码格式化</h2>
                    <p>格式化代码，支持JSON、HTML、CSS、JavaScript等语言</p>
                </div>
                
                <div class="input-group">
                    <label for="code-input">输入要格式化的代码：</label>
                    <textarea id="code-input" placeholder="请输入要格式化的代码...">{ "name": "IT Tools", "version": "1.0", "features": ["MD5加密", "字符转换", "代码格式化", "子网划分"] }</textarea>
                </div>
                
                <div class="code-formatter-options">
                    <div class="input-group">
                        <label for="code-language">选择代码语言：</label>
                        <select id="code-language">
                            <option value="json">JSON</option>
                            <option value="html">HTML</option>
                            <option value="css">CSS</option>
                            <option value="javascript">JavaScript</option>
                            <option value="xml">XML</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="indent-size">缩进大小：</label>
                        <select id="indent-size">
                            <option value="2">2 空格</option>
                            <option value="4" selected>4 空格</option>
                            <option value="8">8 空格</option>
                            <option value="tab">制表符</option>
                        </select>
                    </div>
                </div>
                
                <div class="btn-group">
                    <button class="btn" id="code-format-btn">
                        <i class="fas fa-indent"></i> 格式化代码
                    </button>
                    <button class="btn btn-secondary" id="code-minify-btn">
                        <i class="fas fa-compress-alt"></i> 压缩代码
                    </button>
                    <button class="btn btn-secondary" id="code-copy-btn">
                        <i class="far fa-copy"></i> 复制结果
                    </button>
                    <button class="btn btn-secondary" id="code-clear-btn">
                        <i class="fas fa-broom"></i> 清空
                    </button>
                </div>
                
                <div class="result-group">
                    <h4><i class="fas fa-file-code"></i> 格式化结果</h4>
                    <div class="result-box" id="code-result"></div>
                </div>
            </div>
            
            <!-- JSON 格式化 -->
            <div class="tool-interface hidden" id="json-format-tool">
                <div class="tool-header">
                    <h2><i class="fas fa-brackets-curly"></i> JSON 格式化</h2>
                    <p>JSON数据的美化、验证、压缩和转换</p>
                </div>
                
                <div class="input-group">
                    <label for="json-input">输入JSON文本：</label>
                    <textarea id="json-input" placeholder="请输入JSON文本...">{"name":"IT Tools","version":1.0,"features":["JSON格式化","代码美化","数据验证"],"config":{"theme":"dark","autoFormat":true}}</textarea>
                </div>
                
                <div class="json-options">
                    <div class="input-group">
                        <label for="json-indent">缩进大小：</label>
                        <select id="json-indent">
                            <option value="2">2 空格</option>
                            <option value="4" selected>4 空格</option>
                            <option value="tab">制表符</option>
                        </select>
                    </div>
                </div>
                
                <div class="btn-group">
                    <button class="btn" id="json-format-btn">
                        <i class="fas fa-indent"></i> 格式化JSON
                    </button>
                    <button class="btn btn-secondary" id="json-minify-btn">
                        <i class="fas fa-compress-alt"></i> 压缩JSON
                    </button>
                    <button class="btn btn-success" id="json-validate-btn">
                        <i class="fas fa-check-circle"></i> 验证JSON
                    </button>
                    <button class="btn btn-secondary" id="json-copy-btn">
                        <i class="far fa-copy"></i> 复制结果
                    </button>
                    <button class="btn btn-secondary" id="json-clear-btn">
                        <i class="fas fa-broom"></i> 清空
                    </button>
                </div>
                
                <div class="result-group">
                    <h4><i class="fas fa-check-circle"></i> 验证结果</h4>
                    <div class="result-box" id="json-validate-result">等待验证...</div>
                </div>
                
                <div class="result-group">
                    <h4><i class="fas fa-file-code"></i> JSON 结果</h4>
                    <div class="result-box" id="json-result"></div>
                </div>
            </div>
            
            <!-- IP子网划分 -->
            <div class="tool-interface hidden" id="subnet-tool">
                <div class="tool-header">
                    <h2><i class="fas fa-network-wired"></i> IP 子网划分</h2>
                    <p>计算IP地址的子网信息，包括网络地址、广播地址、可用主机数等</p>
                </div>
                
                <div class="subnet-calculator">
                    <div class="input-group">
                        <label for="ip-address">IP 地址：</label>
                        <input type="text" id="ip-address" placeholder="例如：192.168.1.1" value="192.168.1.1">
                    </div>
                    
                    <div class="input-group">
                        <label for="subnet-mask">子网掩码：</label>
                        <select id="subnet-mask">
                            <option value="32">255.255.255.255 (/32)</option>
                            <option value="31">255.255.255.254 (/31)</option>
                            <option value="30">255.255.255.252 (/30)</option>
                            <option value="29">255.255.255.248 (/29)</option>
                            <option value="28">255.255.255.240 (/28)</option>
                            <option value="27">255.255.255.224 (/27)</option>
                            <option value="26">255.255.255.192 (/26)</option>
                            <option value="25">255.255.255.128 (/25)</option>
                            <option value="24" selected>255.255.255.0 (/24)</option>
                            <option value="23">255.255.254.0 (/23)</option>
                            <option value="22">255.255.252.0 (/22)</option>
                            <option value="21">255.255.248.0 (/21)</option>
                            <option value="20">255.255.240.0 (/20)</option>
                        </select>
                    </div>
                </div>
                
                <div class="btn-group">
                    <button class="btn" id="subnet-calculate-btn">
                        <i class="fas fa-calculator"></i> 计算子网信息
                    </button>
                    <button class="btn btn-secondary" id="subnet-clear-btn">
                        <i class="fas fa-broom"></i> 清空
                    </button>
                </div>
                
                <div class="result-group">
                    <h4><i class="fas fa-network-wired"></i> 子网划分结果</h4>
                    <div id="subnet-result">
                        <div class="subnet-result">
                            <!-- 结果将通过JavaScript动态生成 -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- IP 地址转换 -->
            <div class="tool-interface hidden" id="ip-convert-tool">
                <div class="tool-header">
                    <h2><i class="fas fa-map-marker-alt"></i> IP 地址转换</h2>
                    <p>IP地址的点分十进制与整数互相转换</p>
                </div>
                
                <div class="input-group">
                    <label for="ip-convert-input">输入IP地址或整数：</label>
                    <input type="text" id="ip-convert-input" placeholder="例如：192.168.1.1 或 3232235777" value="192.168.1.1">
                </div>
                
                <div class="ip-conversion-types">
                    <div class="ip-conversion-type active" data-type="ip-to-int">IP → 整数</div>
                    <div class="ip-conversion-type" data-type="int-to-ip">整数 → IP</div>
                </div>
                
                <div class="btn-group">
                    <button class="btn" id="ip-convert-btn">
                        <i class="fas fa-exchange-alt"></i> 执行转换
                    </button>
                    <button class="btn btn-secondary" id="ip-convert-copy-btn">
                        <i class="far fa-copy"></i> 复制结果
                    </button>
                    <button class="btn btn-secondary" id="ip-convert-clear-btn">
                        <i class="fas fa-broom"></i> 清空
                    </button>
                </div>
                
                <div class="result-group">
                    <h4><i class="fas fa-exchange-alt"></i> 转换结果</h4>
                    <div class="result-box" id="ip-convert-result"></div>
                </div>
                
                <div class="tool-description">
                    <p><strong>IP地址与整数转换</strong>：IP地址的点分十进制表示法（如192.168.1.1）可以转换为32位无符号整数（如3232235777），这种转换在网络编程和数据库存储中非常有用。</p>
                </div>
            </div>
            
            <!-- 时间戳转换 -->
            <div class="tool-interface hidden" id="timestamp-tool">
                <div class="tool-header">
                    <h2><i class="far fa-clock"></i> 时间戳转换</h2>
                    <p>Unix时间戳与日期时间互相转换</p>
                </div>
                
                <div class="input-group">
                    <label for="timestamp-input">输入时间戳或日期时间：</label>
                    <input type="text" id="timestamp-input" placeholder="例如：1695571200 或 2023-09-25 00:00:00" value="1695571200">
                </div>
                
                <div class="timestamp-types">
                    <div class="timestamp-type active" data-type="timestamp-to-date">时间戳 → 日期</div>
                    <div class="timestamp-type" data-type="date-to-timestamp">日期 → 时间戳</div>
                    <div class="timestamp-type" data-type="current-timestamp">当前时间戳</div>
                    <div class="timestamp-type" data-type="current-date">当前日期</div>
                </div>
                
                <div class="btn-group">
                    <button class="btn" id="timestamp-convert-btn">
                        <i class="fas fa-exchange-alt"></i> 执行转换
                    </button>
                    <button class="btn btn-secondary" id="timestamp-copy-btn">
                        <i class="far fa-copy"></i> 复制结果
                    </button>
                    <button class="btn btn-secondary" id="timestamp-clear-btn">
                        <i class="fas fa-broom"></i> 清空
                    </button>
                </div>
                
                <div class="result-group">
                    <h4><i class="far fa-clock"></i> 转换结果</h4>
                    <div id="timestamp-result">
                        <div class="timestamp-result-grid">
                            <!-- 结果将通过JavaScript动态生成 -->
                        </div>
                    </div>
                </div>
                
                <div class="tool-description">
                    <p><strong>Unix时间戳</strong>是从1970年1月1日（UTC/GMT的午夜）开始所经过的秒数，不考虑闰秒。时间戳通常用于记录事件时间，便于计算和存储。</p>
                </div>
            </div>
            
            <!-- 文本处理工具 -->
            <div class="tool-interface hidden" id="text-tools-tool">
                <div class="tool-header">
                    <h2><i class="fas fa-font"></i> 文本处理工具</h2>
                    <p>文本大小写转换、去除空格、统计字数等常用文本处理功能</p>
                </div>
                
                <div class="input-group">
                    <label for="text-tools-input">输入文本：</label>
                    <textarea id="text-tools-input" placeholder="请输入要处理的文本...">This is a sample text for IT Tools website. 这是一个IT工具网站的示例文本。</textarea>
                </div>
                
                <div class="btn-group">
                    <button class="btn" id="text-uppercase-btn">
                        <i class="fas fa-text-height"></i> 转为大写
                    </button>
                    <button class="btn" id="text-lowercase-btn">
                        <i class="fas fa-text-height"></i> 转为小写
                    </button>
                    <button class="btn" id="text-trim-btn">
                        <i class="fas fa-cut"></i> 去除空格
                    </button>
                    <button class="btn" id="text-reverse-btn">
                        <i class="fas fa-exchange-alt"></i> 反转文本
                    </button>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-secondary" id="text-copy-btn">
                        <i class="far fa-copy"></i> 复制结果
                    </button>
                    <button class="btn btn-secondary" id="text-clear-btn">
                        <i class="fas fa-broom"></i> 清空
                    </button>
                </div>
                
                <div class="result-group">
                    <h4><i class="fas fa-font"></i> 处理结果</h4>
                    <div class="result-box" id="text-tools-result"></div>
                </div>
                
                <div class="result-group">
                    <h4><i class="fas fa-chart-bar"></i> 文本统计</h4>
                    <div id="text-stats-result">
                        <div class="timestamp-result-grid">
                            <!-- 结果将通过JavaScript动态生成 -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 其他工具提示 -->
            <div class="tool-interface hidden" id="other-tools">
                <div class="tool-header">
                    <h2><i class="fas fa-tools"></i> 更多工具</h2>
                    <p>以下工具正在开发中，敬请期待！</p>
                </div>
                
                <div class="tool-description">
                    <p>IT工具集正在不断扩展中！</p>
                    <p>要添加新工具，按照现模块在侧边栏菜单中添加链接即可。</p>
                </div>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer>
        <div class="container footer-content">
            <div class="footer-info">
                <h3>IT工具集</h3>
                <p>© 2026 IT工具集 - 开发者的在线工具箱</p>
                <p>本工具完全在浏览器中运行，不收集任何用户数据</p>
            </div>
            
            <div class="footer-links">
                <a href="#privacy">隐私政策</a>
                <a href="#terms">使用条款</a>
                <a href="#github">GitHub</a>
                <a href="#contact">联系我们</a>
            </div>
        </div>
    </footer>

    <!-- 通知区域 -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notification-text">操作成功</span>
    </div>

    <script>
        // 全局变量和工具切换
        document.addEventListener('DOMContentLoaded', function() {
            // 移动端菜单切换
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const navLinks = document.getElementById('navLinks');
            
            mobileMenuBtn.addEventListener('click', function() {
                navLinks.classList.toggle('show');
            });
            
            // 工具切换功能
            const toolLinks = document.querySelectorAll('.tool-item a');
            const toolInterfaces = document.querySelectorAll('.tool-interface');
            
            toolLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // 更新活动菜单项
                    toolLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // 获取工具ID
                    const toolId = this.getAttribute('data-tool');
                    
                    // 隐藏所有工具界面
                    toolInterfaces.forEach(interfaceEl => {
                        interfaceEl.classList.add('hidden');
                    });
                    
                    // 显示选中的工具界面
                    let targetTool = document.getElementById(`${toolId}-tool`);
                    
                    // 如果工具不存在，显示其他工具提示
                    if (!targetTool) {
                        targetTool = document.getElementById('other-tools');
                    }
                    
                    if (targetTool) {
                        targetTool.classList.remove('hidden');
                    }
                    
                    // 如果是移动端，关闭菜单
                    if (window.innerWidth <= 768) {
                        navLinks.classList.remove('show');
                    }
                });
            });
            
            // 初始化所有工具功能
            initHashTool();
            initBase64Tool();
            initCharConvertTool();
            initCodeFormatTool();
            initJsonFormatTool();
            initSubnetTool();
            initIpConvertTool();
            initTimestampTool();
            initTextTools();
        });
        
        // 显示通知
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notification-text');
            
            notificationText.textContent = message;
            
            // 设置通知颜色
            if (type === 'success') {
                notification.style.backgroundColor = '#4ade80';
            } else if (type === 'error') {
                notification.style.backgroundColor = '#ef4444';
            } else if (type === 'warning') {
                notification.style.backgroundColor = '#f59e0b';
            } else {
                notification.style.backgroundColor = '#4361ee';
            }
            
            notification.classList.add('show');
            
            // 3秒后隐藏通知
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // 哈希工具功能
        function initHashTool() {
            const hashInput = document.getElementById('hash-input');
            const hashResult = document.getElementById('hash-result');
            const hashCalculateBtn = document.getElementById('hash-calculate-btn');
            const hashCopyBtn = document.getElementById('hash-copy-btn');
            const hashClearBtn = document.getElementById('hash-clear-btn');
            const hashCompareInput = document.getElementById('hash-compare-input');
            const hashCompareBtn = document.getElementById('hash-compare-btn');
            const hashCompareResult = document.getElementById('hash-compare-result');
            const hashOptions = document.querySelectorAll('.hash-option');
            
            // 设置活动哈希算法
            let currentAlgorithm = 'MD5';
            hashOptions.forEach(option => {
                option.addEventListener('click', function() {
                    hashOptions.forEach(o => o.classList.remove('active'));
                    this.classList.add('active');
                    currentAlgorithm = this.getAttribute('data-algorithm');
                    
                    // 如果已有输入，立即重新计算
                    if (hashInput.value.trim()) {
                        calculateHash();
                    }
                });
            });
            
            // 计算哈希
            function calculateHash() {
                const inputText = hashInput.value.trim();
                if (!inputText) {
                    hashResult.textContent = '请输入要计算哈希的文本';
                    return '';
                }
                
                try {
                    let hash = '';
                    
                    // 使用CryptoJS计算哈希
                    switch(currentAlgorithm) {
                        case 'MD5':
                            hash = CryptoJS.MD5(inputText).toString();
                            break;
                        case 'SHA1':
                            hash = CryptoJS.SHA1(inputText).toString();
                            break;
                        case 'SHA256':
                            hash = CryptoJS.SHA256(inputText).toString();
                            break;
                        case 'SHA512':
                            hash = CryptoJS.SHA512(inputText).toString();
                            break;
                        case 'SHA3':
                            hash = CryptoJS.SHA3(inputText).toString();
                            break;
                        default:
                            hash = CryptoJS.MD5(inputText).toString();
                    }
                    
                    hashResult.textContent = hash;
                    return hash;
                } catch (error) {
                    hashResult.textContent = '计算哈希时出错: ' + error.message;
                    return '';
                }
            }
            
            // 计算哈希按钮事件
            hashCalculateBtn.addEventListener('click', function() {
                calculateHash();
            });
            
            // 复制哈希结果
            hashCopyBtn.addEventListener('click', function() {
                if (hashResult.textContent && !hashResult.textContent.includes('出错')) {
                    navigator.clipboard.writeText(hashResult.textContent)
                        .then(() => {
                            showNotification('哈希值已复制到剪贴板');
                        })
                        .catch(err => {
                            console.error('复制失败:', err);
                            showNotification('复制失败，请手动复制', 'error');
                        });
                }
            });
            
            // 清空输入
            hashClearBtn.addEventListener('click', function() {
                hashInput.value = '';
                hashResult.textContent = '';
                hashCompareInput.value = '';
                hashCompareResult.textContent = '';
            });
            
            // 比较哈希值
            hashCompareBtn.addEventListener('click', function() {
                const compareHash = hashCompareInput.value.trim();
                const calculatedHash = hashResult.textContent;
                
                if (!compareHash) {
                    hashCompareResult.textContent = '请输入要比较的哈希值';
                    return;
                }
                
                if (!calculatedHash || calculatedHash.includes('出错')) {
                    hashCompareResult.textContent = '请先计算文本的哈希值';
                    return;
                }
                
                // 去除可能的空格和转换为小写进行比较
                const normalizedCompare = compareHash.toLowerCase().replace(/\s/g, '');
                const normalizedCalculated = calculatedHash.toLowerCase().replace(/\s/g, '');
                
                if (normalizedCompare === normalizedCalculated) {
                    hashCompareResult.textContent = '✓ 哈希值匹配！文本与提供的哈希值一致。';
                    hashCompareResult.style.color = '#4ade80';
                } else {
                    hashCompareResult.textContent = '✗ 哈希值不匹配！文本与提供的哈希值不一致。';
                    hashCompareResult.style.color = '#ef4444';
                }
            });
            
            // 实时计算哈希（输入时自动计算）
            hashInput.addEventListener('input', function() {
                if (this.value.trim()) {
                    calculateHash();
                } else {
                    hashResult.textContent = '';
                }
            });
            
            // 初始示例
            calculateHash();
        }
        
        // Base64工具功能
        function initBase64Tool() {
            const base64Input = document.getElementById('base64-input');
            const base64Result = document.getElementById('base64-result');
            const base64ConvertBtn = document.getElementById('base64-convert-btn');
            const base64CopyBtn = document.getElementById('base64-copy-btn');
            const base64ClearBtn = document.getElementById('base64-clear-btn');
            const base64Options = document.querySelectorAll('.base64-option');
            
            // 设置活动转换类型
            let currentAction = 'encode';
            base64Options.forEach(option => {
                option.addEventListener('click', function() {
                    base64Options.forEach(o => o.classList.remove('active'));
                    this.classList.add('active');
                    currentAction = this.getAttribute('data-action');
                });
            });
            
            // Base64转换函数
            base64ConvertBtn.addEventListener('click', function() {
                const inputText = base64Input.value.trim();
                if (!inputText) {
                    base64Result.textContent = '请输入要转换的文本';
                    return;
                }
                
                let result = '';
                
                try {
                    switch(currentAction) {
                        case 'encode':
                            result = btoa(unescape(encodeURIComponent(inputText)));
                            break;
                        case 'decode':
                            try {
                                result = decodeURIComponent(escape(atob(inputText)));
                            } catch(e) {
                                result = 'Base64解码错误: 请输入有效的Base64编码';
                            }
                            break;
                        case 'url-encode':
                            // URL安全的Base64编码（将+和/替换为-和_）
                            result = btoa(unescape(encodeURIComponent(inputText)))
                                .replace(/\+/g, '-')
                                .replace(/\//g, '_')
                                .replace(/=+$/, '');
                            break;
                        case 'url-decode':
                            try {
                                // URL安全的Base64解码（将-和_替换回+和/）
                                const base64 = inputText
                                    .replace(/-/g, '+')
                                    .replace(/_/g, '/');
                                result = decodeURIComponent(escape(atob(base64)));
                            } catch(e) {
                                result = 'Base64解码错误: 请输入有效的Base64编码';
                            }
                            break;
                        default:
                            result = '未知的转换类型';
                    }
                } catch (error) {
                    result = '转换错误: ' + error.message;
                }
                
                base64Result.textContent = result;
            });
            
            // 复制结果
            base64CopyBtn.addEventListener('click', function() {
                if (base64Result.textContent) {
                    navigator.clipboard.writeText(base64Result.textContent)
                        .then(() => {
                            showNotification('Base64结果已复制到剪贴板');
                        })
                        .catch(err => {
                            console.error('复制失败:', err);
                            showNotification('复制失败，请手动复制', 'error');
                        });
                }
            });
            
            // 清空输入
            base64ClearBtn.addEventListener('click', function() {
                base64Input.value = '';
                base64Result.textContent = '';
            });
            
            // 初始示例
            base64ConvertBtn.click();
        }
        
        // 字符转换工具功能
        function initCharConvertTool() {
            const charInput = document.getElementById('char-input');
            const charResult = document.getElementById('char-result');
            const charConvertBtn = document.getElementById('char-convert-btn');
            const charCopyBtn = document.getElementById('char-copy-btn');
            const charClearBtn = document.getElementById('char-clear-btn');
            const conversionTypes = document.querySelectorAll('.conversion-type');
            
            // 设置活动转换类型
            conversionTypes.forEach(type => {
                type.addEventListener('click', function() {
                    conversionTypes.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // 字符转换函数
            charConvertBtn.addEventListener('click', function() {
                const inputText = charInput.value.trim();
                if (!inputText) {
                    charResult.textContent = '请输入要转换的文本';
                    return;
                }
                
                // 获取选中的转换类型
                const activeType = document.querySelector('.conversion-type.active');
                const conversionType = activeType.getAttribute('data-type');
                
                let result = '';
                
                try {
                    switch(conversionType) {
                        case 'utf8-to-gbk':
                            // 简化演示 - 实际GBK转换需要更复杂的实现
                            result = 'UTF-8到GBK转换: ' + inputText;
                            break;
                        case 'gbk-to-utf8':
                            result = 'GBK到UTF-8转换: ' + inputText;
                            break;
                        case 'utf8-to-base64':
                            result = btoa(unescape(encodeURIComponent(inputText)));
                            break;
                        case 'base64-to-utf8':
                            try {
                                result = decodeURIComponent(escape(atob(inputText)));
                            } catch(e) {
                                result = 'Base64解码错误: 请输入有效的Base64编码';
                            }
                            break;
                        case 'url-encode':
                            result = encodeURIComponent(inputText);
                            break;
                        case 'url-decode':
                            try {
                                result = decodeURIComponent(inputText);
                            } catch(e) {
                                result = 'URL解码错误: 请输入有效的URL编码';
                            }
                            break;
                        default:
                            result = '未知的转换类型';
                    }
                } catch (error) {
                    result = '转换错误: ' + error.message;
                }
                
                charResult.textContent = result;
            });
            
            // 复制结果
            charCopyBtn.addEventListener('click', function() {
                if (charResult.textContent) {
                    navigator.clipboard.writeText(charResult.textContent)
                        .then(() => {
                            showNotification('转换结果已复制到剪贴板');
                        })
                        .catch(err => {
                            console.error('复制失败:', err);
                            showNotification('复制失败，请手动复制', 'error');
                        });
                }
            });
            
            // 清空输入
            charClearBtn.addEventListener('click', function() {
                charInput.value = '';
                charResult.textContent = '';
            });
            
            // 初始示例
            charConvertBtn.click();
        }
        
        // 代码格式化工具功能
        function initCodeFormatTool() {
            const codeInput = document.getElementById('code-input');
            const codeResult = document.getElementById('code-result');
            const codeFormatBtn = document.getElementById('code-format-btn');
            const codeMinifyBtn = document.getElementById('code-minify-btn');
            const codeCopyBtn = document.getElementById('code-copy-btn');
            const codeClearBtn = document.getElementById('code-clear-btn');
            const codeLanguage = document.getElementById('code-language');
            const indentSize = document.getElementById('indent-size');
            
            // 格式化JSON
            function formatJSON(json, indent) {
                try {
                    const parsed = JSON.parse(json);
                    return JSON.stringify(parsed, null, indent === 'tab' ? '\t' : parseInt(indent));
                } catch (e) {
                    return 'JSON解析错误: ' + e.message;
                }
            }
            
            // 格式化HTML
            function formatHTML(html, indent) {
                // 简单的HTML格式化
                const spaces = indent === 'tab' ? '\t' : ' '.repeat(parseInt(indent));
                let formatted = '';
                let indentLevel = 0;
                let inTag = false;
                
                for (let i = 0; i < html.length; i++) {
                    const char = html[i];
                    const nextChar = html[i + 1];
                    
                    if (char === '<' && nextChar !== '/') {
                        formatted += '\n' + spaces.repeat(indentLevel) + char;
                        if (nextChar !== '!') indentLevel++;
                        inTag = true;
                    } else if (char === '<' && nextChar === '/') {
                        indentLevel--;
                        formatted += '\n' + spaces.repeat(indentLevel) + char;
                        inTag = true;
                    } else if (char === '>') {
                        formatted += char;
                        inTag = false;
                    } else {
                        formatted += char;
                    }
                }
                
                return formatted.trim();
            }
            
            // 格式化JavaScript
            function formatJavaScript(js, indent) {
                // 简化版JavaScript格式化
                const spaces = indent === 'tab' ? '\t' : ' '.repeat(parseInt(indent));
                let formatted = '';
                let indentLevel = 0;
                
                // 在特定字符后添加换行和缩进
                js = js.replace(/([{};])/g, '$1\n');
                
                const lines = js.split('\n');
                lines.forEach(line => {
                    const trimmed = line.trim();
                    if (!trimmed) return;
                    
                    if (trimmed.includes('}')) indentLevel--;
                    
                    formatted += spaces.repeat(indentLevel) + trimmed + '\n';
                    
                    if (trimmed.includes('{')) indentLevel++;
                });
                
                return formatted;
            }
            
            // 格式化代码
            codeFormatBtn.addEventListener('click', function() {
                const inputCode = codeInput.value.trim();
                const language = codeLanguage.value;
                const indent = indentSize.value;
                
                if (!inputCode) {
                    codeResult.textContent = '请输入要格式化的代码';
                    return;
                }
                
                let result = '';
                
                try {
                    switch(language) {
                        case 'json':
                            result = formatJSON(inputCode, indent);
                            break;
                        case 'html':
                            result = formatHTML(inputCode, indent);
                            break;
                        case 'javascript':
                            result = formatJavaScript(inputCode, indent);
                            break;
                        case 'css':
                            // CSS格式化简化
                            result = inputCode.replace(/([{}:;])/g, '$1\n').replace(/}/g, '}\n\n');
                            break;
                        case 'xml':
                            result = formatHTML(inputCode, indent); // XML使用HTML格式化
                            break;
                        default:
                            result = '不支持的语言类型';
                    }
                } catch (error) {
                    result = '格式化错误: ' + error.message;
                }
                
                codeResult.textContent = result;
            });
            
            // 压缩代码
            codeMinifyBtn.addEventListener('click', function() {
                const inputCode = codeInput.value.trim();
                
                if (!inputCode) {
                    codeResult.textContent = '请输入要压缩的代码';
                    return;
                }
                
                // 简单的压缩：移除多余空格和换行
                let minified = inputCode
                    .replace(/\/\/.*$/gm, '') // 移除单行注释
                    .replace(/\/\*[\s\S]*?\*\//g, '') // 移除多行注释
                    .replace(/\s+/g, ' ') // 将多个空格合并为一个
                    .replace(/\s*([{}();:,])\s*/g, '$1') // 移除符号周围的空格
                    .trim();
                
                codeResult.textContent = minified;
            });
            
            // 复制结果
            codeCopyBtn.addEventListener('click', function() {
                if (codeResult.textContent) {
                    navigator.clipboard.writeText(codeResult.textContent)
                        .then(() => {
                            showNotification('代码已复制到剪贴板');
                        })
                        .catch(err => {
                            console.error('复制失败:', err);
                            showNotification('复制失败，请手动复制', 'error');
                        });
                }
            });
            
            // 清空输入
            codeClearBtn.addEventListener('click', function() {
                codeInput.value = '';
                codeResult.textContent = '';
            });
            
            // 初始示例
            codeFormatBtn.click();
        }
        
        // JSON格式化工具功能
        function initJsonFormatTool() {
            const jsonInput = document.getElementById('json-input');
            const jsonResult = document.getElementById('json-result');
            const jsonValidateResult = document.getElementById('json-validate-result');
            const jsonFormatBtn = document.getElementById('json-format-btn');
            const jsonMinifyBtn = document.getElementById('json-minify-btn');
            const jsonValidateBtn = document.getElementById('json-validate-btn');
            const jsonCopyBtn = document.getElementById('json-copy-btn');
            const jsonClearBtn = document.getElementById('json-clear-btn');
            const jsonIndent = document.getElementById('json-indent');
            
            // 验证JSON
            function validateJSON(json) {
                try {
                    JSON.parse(json);
                    return { valid: true, message: '✓ JSON格式正确' };
                } catch (error) {
                    return { valid: false, message: '✗ JSON格式错误: ' + error.message };
                }
            }
            
            // 格式化JSON
            function formatJSON(json, indent) {
                try {
                    const parsed = JSON.parse(json);
                    return JSON.stringify(parsed, null, indent === 'tab' ? '\t' : parseInt(indent));
                } catch (e) {
                    return 'JSON解析错误: ' + e.message;
                }
            }
            
            // 压缩JSON
            function minifyJSON(json) {
                try {
                    const parsed = JSON.parse(json);
                    return JSON.stringify(parsed);
                } catch (e) {
                    return 'JSON解析错误: ' + e.message;
                }
            }
            
            // 格式化JSON按钮事件
            jsonFormatBtn.addEventListener('click', function() {
                const inputJSON = jsonInput.value.trim();
                const indent = jsonIndent.value;
                
                if (!inputJSON) {
                    jsonResult.textContent = '请输入JSON文本';
                    return;
                }
                
                // 先验证JSON
                const validation = validateJSON(inputJSON);
                jsonValidateResult.innerHTML = validation.valid ? 
                    '<span class="json-valid">' + validation.message + '</span>' : 
                    '<span class="json-invalid">' + validation.message + '</span>';
                
                // 格式化JSON
                jsonResult.textContent = formatJSON(inputJSON, indent);
            });
            
            // 压缩JSON按钮事件
            jsonMinifyBtn.addEventListener('click', function() {
                const inputJSON = jsonInput.value.trim();
                
                if (!inputJSON) {
                    jsonResult.textContent = '请输入JSON文本';
                    return;
                }
                
                // 先验证JSON
                const validation = validateJSON(inputJSON);
                jsonValidateResult.innerHTML = validation.valid ? 
                    '<span class="json-valid">' + validation.message + '</span>' : 
                    '<span class="json-invalid">' + validation.message + '</span>';
                
                // 压缩JSON
                jsonResult.textContent = minifyJSON(inputJSON);
            });
            
            // 验证JSON按钮事件
            jsonValidateBtn.addEventListener('click', function() {
                const inputJSON = jsonInput.value.trim();
                
                if (!inputJSON) {
                    jsonValidateResult.textContent = '请输入JSON文本';
                    return;
                }
                
                const validation = validateJSON(inputJSON);
                jsonValidateResult.innerHTML = validation.valid ? 
                    '<span class="json-valid">' + validation.message + '</span>' : 
                    '<span class="json-invalid">' + validation.message + '</span>';
                
                // 如果JSON有效，则格式化显示
                if (validation.valid) {
                    jsonResult.textContent = formatJSON(inputJSON, jsonIndent.value);
                } else {
                    jsonResult.textContent = '';
                }
            });
            
            // 复制结果
            jsonCopyBtn.addEventListener('click', function() {
                if (jsonResult.textContent) {
                    navigator.clipboard.writeText(jsonResult.textContent)
                        .then(() => {
                            showNotification('JSON已复制到剪贴板');
                        })
                        .catch(err => {
                            console.error('复制失败:', err);
                            showNotification('复制失败，请手动复制', 'error');
                        });
                }
            });
            
            // 清空输入
            jsonClearBtn.addEventListener('click', function() {
                jsonInput.value = '';
                jsonResult.textContent = '';
                jsonValidateResult.textContent = '等待验证...';
            });
            
            // 初始示例
            jsonFormatBtn.click();
        }
        
        // 子网划分工具功能
        function initSubnetTool() {
            const ipAddress = document.getElementById('ip-address');
            const subnetMask = document.getElementById('subnet-mask');
            const subnetCalculateBtn = document.getElementById('subnet-calculate-btn');
            const subnetClearBtn = document.getElementById('subnet-clear-btn');
            const subnetResult = document.querySelector('#subnet-result .subnet-result');
            
            // IP地址验证
            function isValidIP(ip) {
                const parts = ip.split('.');
                if (parts.length !== 4) return false;
                
                for (let part of parts) {
                    const num = parseInt(part, 10);
                    if (isNaN(num) || num < 0 || num > 255) return false;
                }
                
                return true;
            }
            
            // 计算子网信息
            subnetCalculateBtn.addEventListener('click', function() {
                const ip = ipAddress.value.trim();
                
                if (!isValidIP(ip)) {
                    subnetResult.innerHTML = '<div class="subnet-item"><h5>错误</h5><p>请输入有效的IP地址</p></div>';
                    return;
                }
                
                const cidr = parseInt(subnetMask.value);
                const mask = cidrToMask(cidr);
                const network = calculateNetwork(ip, mask);
                const broadcast = calculateBroadcast(ip, mask);
                const firstHost = calculateFirstHost(network);
                const lastHost = calculateLastHost(broadcast);
                const totalHosts = calculateTotalHosts(cidr);
                const usableHosts = Math.max(totalHosts - 2, 0);
                
                // 生成结果HTML
                subnetResult.innerHTML = `
                    <div class="subnet-item">
                        <h5>IP 地址</h5>
                        <p>${ip}</p>
                    </div>
                    <div class="subnet-item">
                        <h5>子网掩码</h5>
                        <p>${mask} (/${cidr})</p>
                    </div>
                    <div class="subnet-item">
                        <h5>网络地址</h5>
                        <p>${network}</p>
                    </div>
                    <div class="subnet-item">
                        <h5>广播地址</h5>
                        <p>${broadcast}</p>
                    </div>
                    <div class="subnet-item">
                        <h5>第一个可用主机</h5>
                        <p>${firstHost}</p>
                    </div>
                    <div class="subnet-item">
                        <h5>最后一个可用主机</h5>
                        <p>${lastHost}</p>
                    </div>
                    <div class="subnet-item">
                        <h5>总主机数</h5>
                        <p>${totalHosts}</p>
                    </div>
                    <div class="subnet-item">
                        <h5>可用主机数</h5>
                        <p>${usableHosts}</p>
                    </div>
                `;
            });
            
            // CIDR转换为子网掩码
            function cidrToMask(cidr) {
                let mask = 0;
                for (let i = 0; i < cidr; i++) {
                    mask |= (1 << (31 - i));
                }
                
                return [
                    (mask >>> 24) & 255,
                    (mask >>> 16) & 255,
                    (mask >>> 8) & 255,
                    mask & 255
                ].join('.');
            }
            
            // 计算网络地址
            function calculateNetwork(ip, mask) {
                const ipParts = ip.split('.').map(Number);
                const maskParts = mask.split('.').map(Number);
                
                const network = ipParts.map((part, i) => part & maskParts[i]);
                return network.join('.');
            }
            
            // 计算广播地址
            function calculateBroadcast(ip, mask) {
                const ipParts = ip.split('.').map(Number);
                const maskParts = mask.split('.').map(Number);
                
                const broadcast = ipParts.map((part, i) => part | (~maskParts[i] & 255));
                return broadcast.join('.');
            }
            
            // 计算第一个可用主机
            function calculateFirstHost(network) {
                const parts = network.split('.').map(Number);
                parts[3] += 1;
                
                // 处理进位
                for (let i = 3; i >= 0; i--) {
                    if (parts[i] > 255) {
                        parts[i] = 0;
                        if (i > 0) parts[i-1] += 1;
                    }
                }
                
                return parts.join('.');
            }
            
            // 计算最后一个可用主机
            function calculateLastHost(broadcast) {
                const parts = broadcast.split('.').map(Number);
                parts[3] -= 1;
                
                // 处理借位
                for (let i = 3; i >= 0; i--) {
                    if (parts[i] < 0) {
                        parts[i] = 255;
                        if (i > 0) parts[i-1] -= 1;
                    }
                }
                
                return parts.join('.');
            }
            
            // 计算总主机数
            function calculateTotalHosts(cidr) {
                return Math.pow(2, 32 - cidr);
            }
            
            // 清空输入
            subnetClearBtn.addEventListener('click', function() {
                ipAddress.value = '';
                subnetResult.innerHTML = '';
            });
            
            // 初始示例
            subnetCalculateBtn.click();
        }
        
        // IP地址转换工具功能
        function initIpConvertTool() {
            const ipConvertInput = document.getElementById('ip-convert-input');
            const ipConvertResult = document.getElementById('ip-convert-result');
            const ipConvertBtn = document.getElementById('ip-convert-btn');
            const ipConvertCopyBtn = document.getElementById('ip-convert-copy-btn');
            const ipConvertClearBtn = document.getElementById('ip-convert-clear-btn');
            const ipConversionTypes = document.querySelectorAll('.ip-conversion-type');
            
            // 设置活动转换类型
            let currentIpConversionType = 'ip-to-int';
            ipConversionTypes.forEach(type => {
                type.addEventListener('click', function() {
                    ipConversionTypes.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    currentIpConversionType = this.getAttribute('data-type');
                });
            });
            
            // IP地址验证
            function isValidIP(ip) {
                const parts = ip.split('.');
                if (parts.length !== 4) return false;
                
                for (let part of parts) {
                    const num = parseInt(part, 10);
                    if (isNaN(num) || num < 0 || num > 255) return false;
                }
                
                return true;
            }
            
            // IP地址转整数
            function ipToInt(ip) {
                const parts = ip.split('.').map(Number);
                return (parts[0] << 24) + (parts[1] << 16) + (parts[2] << 8) + parts[3];
            }
            
            // 整数转IP地址
            function intToIp(int) {
                return [
                    (int >>> 24) & 255,
                    (int >>> 16) & 255,
                    (int >>> 8) & 255,
                    int & 255
                ].join('.');
            }
            
            // IP地址转换
            ipConvertBtn.addEventListener('click', function() {
                const input = ipConvertInput.value.trim();
                
                if (!input) {
                    ipConvertResult.textContent = '请输入IP地址或整数';
                    return;
                }
                
                let result = '';
                
                try {
                    if (currentIpConversionType === 'ip-to-int') {
                        if (!isValidIP(input)) {
                            ipConvertResult.textContent = '请输入有效的IP地址（如：192.168.1.1）';
                            return;
                        }
                        const intValue = ipToInt(input);
                        result = `${input} 转换为整数: ${intValue}\n`;
                        result += `十六进制: 0x${intValue.toString(16).toUpperCase()}`;
                    } else if (currentIpConversionType === 'int-to-ip') {
                        const intValue = parseInt(input, 10);
                        if (isNaN(intValue) || intValue < 0 || intValue > 4294967295) {
                            ipConvertResult.textContent = '请输入有效的整数（0-4294967295）';
                            return;
                        }
                        const ip = intToIp(intValue);
                        result = `${input} 转换为IP地址: ${ip}`;
                    }
                } catch (error) {
                    result = '转换错误: ' + error.message;
                }
                
                ipConvertResult.textContent = result;
            });
            
            // 复制结果
            ipConvertCopyBtn.addEventListener('click', function() {
                if (ipConvertResult.textContent) {
                    navigator.clipboard.writeText(ipConvertResult.textContent)
                        .then(() => {
                            showNotification('转换结果已复制到剪贴板');
                        })
                        .catch(err => {
                            console.error('复制失败:', err);
                            showNotification('复制失败，请手动复制', 'error');
                        });
                }
            });
            
            // 清空输入
            ipConvertClearBtn.addEventListener('click', function() {
                ipConvertInput.value = '';
                ipConvertResult.textContent = '';
            });
            
            // 初始示例
            ipConvertBtn.click();
        }
        
        // 时间戳转换工具功能
        function initTimestampTool() {
            const timestampInput = document.getElementById('timestamp-input');
            const timestampConvertBtn = document.getElementById('timestamp-convert-btn');
            const timestampCopyBtn = document.getElementById('timestamp-copy-btn');
            const timestampClearBtn = document.getElementById('timestamp-clear-btn');
            const timestampTypes = document.querySelectorAll('.timestamp-type');
            const timestampResult = document.querySelector('#timestamp-result .timestamp-result-grid');
            
            // 设置活动转换类型
            let currentTimestampType = 'timestamp-to-date';
            timestampTypes.forEach(type => {
                type.addEventListener('click', function() {
                    timestampTypes.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    currentTimestampType = this.getAttribute('data-type');
                    
                    // 如果是获取当前时间，立即执行
                    if (currentTimestampType === 'current-timestamp' || currentTimestampType === 'current-date') {
                        convertTimestamp();
                    }
                });
            });
            
            // 时间戳转换
            function convertTimestamp() {
                const input = timestampInput.value.trim();
                let resultHTML = '';
                
                try {
                    if (currentTimestampType === 'current-timestamp') {
                        const now = Math.floor(Date.now() / 1000);
                        timestampInput.value = now;
                        resultHTML = `
                            <div class="timestamp-item">
                                <h5>当前时间戳（秒）</h5>
                                <p>${now}</p>
                            </div>
                            <div class="timestamp-item">
                                <h5>当前时间戳（毫秒）</h5>
                                <p>${Date.now()}</p>
                            </div>
                            <div class="timestamp-item">
                                <h5>当前日期时间</h5>
                                <p>${new Date().toLocaleString('zh-CN')}</p>
                            </div>
                            <div class="timestamp-item">
                                <h5>ISO 8601 格式</h5>
                                <p>${new Date().toISOString()}</p>
                            </div>
                        `;
                    } else if (currentTimestampType === 'current-date') {
                        const now = new Date();
                        const dateStr = now.toLocaleDateString('zh-CN');
                        const timeStr = now.toLocaleTimeString('zh-CN');
                        timestampInput.value = `${dateStr} ${timeStr}`;
                        resultHTML = `
                            <div class="timestamp-item">
                                <h5>当前日期</h5>
                                <p>${dateStr}</p>
                            </div>
                            <div class="timestamp-item">
                                <h5>当前时间</h5>
                                <p>${timeStr}</p>
                            </div>
                            <div class="timestamp-item">
                                <h5>时间戳（秒）</h5>
                                <p>${Math.floor(now.getTime() / 1000)}</p>
                            </div>
                            <div class="timestamp-item">
                                <h5>时间戳（毫秒）</h5>
                                <p>${now.getTime()}</p>
                            </div>
                        `;
                    } else if (currentTimestampType === 'timestamp-to-date') {
                        if (!input) {
                            timestampResult.innerHTML = '<div class="timestamp-item"><h5>错误</h5><p>请输入时间戳</p></div>';
                            return;
                        }
                        
                        // 判断是秒还是毫秒
                        const timestamp = input.length === 10 ? parseInt(input, 10) * 1000 : parseInt(input, 10);
                        const date = new Date(timestamp);
                        
                        if (isNaN(date.getTime())) {
                            timestampResult.innerHTML = '<div class="timestamp-item"><h5>错误</h5><p>无效的时间戳</p></div>';
                            return;
                        }
                        
                        resultHTML = `
                            <div class="timestamp-item">
                                <h5>本地日期时间</h5>
                                <p>${date.toLocaleString('zh-CN')}</p>
                            </div>
                            <div class="timestamp-item">
                                <h5>UTC 日期时间</h5>
                                <p>${date.toUTCString()}</p>
                            </div>
                            <div class="timestamp-item">
                                <h5>ISO 8601 格式</h5>
                                <p>${date.toISOString()}</p>
                            </div>
                            <div class="timestamp-item">
                                <h5>年份/月份/日期</h5>
                                <p>${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}</p>
                            </div>
                            <div class="timestamp-item">
                                <h5>星期几</h5>
                                <p>${['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'][date.getDay()]}</p>
                            </div>
                            <div class="timestamp-item">
                                <h5>时间戳（秒）</h5>
                                <p>${Math.floor(date.getTime() / 1000)}</p>
                            </div>
                            <div class="timestamp-item">
                                <h5>时间戳（毫秒）</h5>
                                <p>${date.getTime()}</p>
                            </div>
                        `;
                    } else if (currentTimestampType === 'date-to-timestamp') {
                        if (!input) {
                            timestampResult.innerHTML = '<div class="timestamp-item"><h5>错误</h5><p>请输入日期时间</p></div>';
                            return;
                        }
                        
                        // 尝试解析日期
                        const date = new Date(input);
                        
                        if (isNaN(date.getTime())) {
                            // 尝试解析常见的中文日期格式
                            const parsedDate = new Date(input.replace(/\s+/g, 'T'));
                            if (isNaN(parsedDate.getTime())) {
                                timestampResult.innerHTML = '<div class="timestamp-item"><h5>错误</h5><p>无效的日期格式</p></div>';
                                return;
                            }
                            
                            resultHTML = `
                                <div class="timestamp-item">
                                    <h5>解析的日期时间</h5>
                                    <p>${parsedDate.toLocaleString('zh-CN')}</p>
                                </div>
                                <div class="timestamp-item">
                                    <h5>时间戳（秒）</h5>
                                    <p>${Math.floor(parsedDate.getTime() / 1000)}</p>
                                </div>
                                <div class="timestamp-item">
                                    <h5>时间戳（毫秒）</h5>
                                    <p>${parsedDate.getTime()}</p>
                                </div>
                            `;
                        } else {
                            resultHTML = `
                                <div class="timestamp-item">
                                    <h5>解析的日期时间</h5>
                                    <p>${date.toLocaleString('zh-CN')}</p>
                                </div>
                                <div class="timestamp-item">
                                    <h5>时间戳（秒）</h5>
                                    <p>${Math.floor(date.getTime() / 1000)}</p>
                                </div>
                                <div class="timestamp-item">
                                    <h5>时间戳（毫秒）</h5>
                                    <p>${date.getTime()}</p>
                                </div>
                            `;
                        }
                    }
                } catch (error) {
                    resultHTML = '<div class="timestamp-item"><h5>错误</h5><p>' + error.message + '</p></div>';
                }
                
                timestampResult.innerHTML = resultHTML;
            }
            
            // 转换按钮事件
            timestampConvertBtn.addEventListener('click', convertTimestamp);
            
            // 复制结果
            timestampCopyBtn.addEventListener('click', function() {
                // 获取所有结果文本
                const resultItems = timestampResult.querySelectorAll('.timestamp-item p');
                let resultText = '';
                resultItems.forEach(item => {
                    const title = item.parentElement.querySelector('h5').textContent;
                    resultText += `${title}: ${item.textContent}\n`;
                });
                
                if (resultText) {
                    navigator.clipboard.writeText(resultText)
                        .then(() => {
                            showNotification('时间戳结果已复制到剪贴板');
                        })
                        .catch(err => {
                            console.error('复制失败:', err);
                            showNotification('复制失败，请手动复制', 'error');
                        });
                }
            });
            
            // 清空输入
            timestampClearBtn.addEventListener('click', function() {
                timestampInput.value = '';
                timestampResult.innerHTML = '';
            });
            
            // 初始示例
            timestampConvertBtn.click();
        }
        
        // 文本处理工具功能
        function initTextTools() {
            const textToolsInput = document.getElementById('text-tools-input');
            const textToolsResult = document.getElementById('text-tools-result');
            const textUppercaseBtn = document.getElementById('text-uppercase-btn');
            const textLowercaseBtn = document.getElementById('text-lowercase-btn');
            const textTrimBtn = document.getElementById('text-trim-btn');
            const textReverseBtn = document.getElementById('text-reverse-btn');
            const textCopyBtn = document.getElementById('text-copy-btn');
            const textClearBtn = document.getElementById('text-clear-btn');
            const textStatsResult = document.querySelector('#text-stats-result .timestamp-result-grid');
            
            // 统计文本信息
            function updateTextStats(text) {
                const stats = {
                    '字符数（含空格）': text.length,
                    '字符数（不含空格）': text.replace(/\s/g, '').length,
                    '单词数（英文）': text.match(/\b\w+\b/g) ? text.match(/\b\w+\b/g).length : 0,
                    '行数': text.split('\n').length,
                    '中文字符数': (text.match(/[\u4e00-\u9fa5]/g) || []).length,
                    '数字字符数': (text.match(/\d/g) || []).length,
                    '空格数': (text.match(/\s/g) || []).length,
                };
                
                let statsHTML = '';
                for (const [key, value] of Object.entries(stats)) {
                    statsHTML += `
                        <div class="timestamp-item">
                            <h5>${key}</h5>
                            <p>${value}</p>
                        </div>
                    `;
                }
                
                textStatsResult.innerHTML = statsHTML;
            }
            
            // 文本处理函数
            function processText(operation) {
                const inputText = textToolsInput.value;
                let result = '';
                
                switch(operation) {
                    case 'uppercase':
                        result = inputText.toUpperCase();
                        break;
                    case 'lowercase':
                        result = inputText.toLowerCase();
                        break;
                    case 'trim':
                        result = inputText.trim();
                        break;
                    case 'reverse':
                        result = inputText.split('').reverse().join('');
                        break;
                    default:
                        result = inputText;
                }
                
                textToolsResult.textContent = result;
                updateTextStats(result);
            }
            
            // 按钮事件
            textUppercaseBtn.addEventListener('click', () => processText('uppercase'));
            textLowercaseBtn.addEventListener('click', () => processText('lowercase'));
            textTrimBtn.addEventListener('click', () => processText('trim'));
            textReverseBtn.addEventListener('click', () => processText('reverse'));
            
            // 复制结果
            textCopyBtn.addEventListener('click', function() {
                if (textToolsResult.textContent) {
                    navigator.clipboard.writeText(textToolsResult.textContent)
                        .then(() => {
                            showNotification('文本已复制到剪贴板');
                        })
                        .catch(err => {
                            console.error('复制失败:', err);
                            showNotification('复制失败，请手动复制', 'error');
                        });
                }
            });
            
            // 清空输入
            textClearBtn.addEventListener('click', function() {
                textToolsInput.value = '';
                textToolsResult.textContent = '';
                textStatsResult.innerHTML = '';
            });
            
            // 输入时实时更新统计
            textToolsInput.addEventListener('input', function() {
                const text = this.value;
                textToolsResult.textContent = text;
                updateTextStats(text);
            });
            
            // 初始示例
            updateTextStats(textToolsInput.value);
        }
    </script>
</body>
</html>